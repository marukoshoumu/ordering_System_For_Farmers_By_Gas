# AllUser側 デプロイ手順

> **注意**: このファイルは簡易版です。詳細な手順はナレッジベースを参照してください。
> 
> **詳細ドキュメント**: `knowledge/projects/ordering-system/docs/alluser-deployment-guide.md`
> 
> または環境変数 `ORDERING_PROJECT_DIR` で設定されたパスの `docs/alluser-deployment-guide.md` を参照してください。

## クイックリファレンス

### 重要なポイント

1. **`appsscript.json`に権限を追加**
   ```json
   "oauthScopes": [
     "https://www.googleapis.com/auth/spreadsheets",
     "https://www.googleapis.com/auth/script.external_request"
   ]
   ```

2. **スクリプトを実行して認証を通す（必須）**
   ```javascript
   function testAuth() {
     const response = UrlFetchApp.fetch('https://www.google.com');
     Logger.log('権限確認完了');
   }
   ```
   - 実行して権限承認ダイアログで「許可」をクリック

3. **新しいデプロイメントを作成**
   - 既存のデプロイメントは古い権限設定のまま
   - 「デプロイ」→「新しいデプロイ」→「ウェブアプリ」

## 初期導入時の手順

1. `./sync-shared.sh` で共通コードを同期
2. Google Apps Scriptで新しいプロジェクトを作成
3. `AllUser/src/`内のファイルをアップロード
4. `appsscript.json`に権限を設定
5. テスト関数を実行して権限を承認
6. スクリプトプロパティを設定（`MASTER_SPREADSHEET_ID`など）
7. ウェブアプリとして公開

詳細は上記のナレッジベースドキュメントを参照してください。
